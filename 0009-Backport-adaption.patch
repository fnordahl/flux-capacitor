From 1813189f5d07eeae433dcbcc9a4e262aed99b637 Mon Sep 17 00:00:00 2001
From: Frode Nordahl <frode.nordahl@canonical.com>
Date: Fri, 19 Nov 2021 11:48:58 +0000
Subject: [PATCH 9/9] Backport adaption

Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
---
 drivers/net/netdevsim/netdevsim.h     | 2 +-
 drivers/net/netdevsim/port_function.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/netdevsim/netdevsim.h b/drivers/net/netdevsim/netdevsim.h
index 6f2642cc69f0..602d0b2e6519 100644
--- a/drivers/net/netdevsim/netdevsim.h
+++ b/drivers/net/netdevsim/netdevsim.h
@@ -379,7 +379,7 @@ void nsim_dev_port_function_exit(struct nsim_dev *nsim_dev);
 void nsim_dev_port_function_enable(struct nsim_dev *nsim_dev);
 void nsim_dev_port_function_disable(struct nsim_dev *nsim_dev);
 int nsim_dev_devlink_port_new(struct devlink *devlink, const struct devlink_port_new_attrs *attrs,
-			      struct netlink_ext_ack *extack);
+			      struct netlink_ext_ack *extack, unsigned int *);
 int nsim_dev_devlink_port_del(struct devlink *devlink, unsigned int port_index,
 			      struct netlink_ext_ack *extack);
 int nsim_dev_port_function_hw_addr_get(struct devlink *devlink, struct devlink_port *port,
diff --git a/drivers/net/netdevsim/port_function.c b/drivers/net/netdevsim/port_function.c
index 50225a913a8e..1ba5db7d3936 100644
--- a/drivers/net/netdevsim/port_function.c
+++ b/drivers/net/netdevsim/port_function.c
@@ -314,7 +314,7 @@ static bool nsim_dev_port_flavour_supported(const struct nsim_dev *nsim_dev,
 }
 
 int nsim_dev_devlink_port_new(struct devlink *devlink, const struct devlink_port_new_attrs *attrs,
-			      struct netlink_ext_ack *extack)
+			      struct netlink_ext_ack *extack, unsigned int *n __attribute__((__unused__)))
 {
 	struct nsim_dev *nsim_dev = devlink_priv(devlink);
 	struct nsim_bus_dev *nsim_bus_dev;
-- 
2.32.0

